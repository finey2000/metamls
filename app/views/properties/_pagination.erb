                   <% pquery = !!(defined? add_query) ? add_query : '' %>
<ul class="pagination">
                        <li ><a href="?pg=<%= @pagination[:prev_page].to_s+pquery %> " >Prev</a></li>
                        <% if @pagination[:first_page] != @pagination[:current_page] && !@pagination[:prev_pages].include?(@pagination[:first_page])%>
                        <li ><a href="?pg=<%= @pagination[:first_page].to_s+pquery %>" ><%= @pagination[:first_page] %></a></li>
                                <%  if !@pagination[:prev_pages].include?(@pagination[:first_page]+1)%>
                                 <li class="disabled"><a href="#">...</a></li>
                                 <% end %>
                        <% end %>
                        <% @pagination[:prev_pages].each do |value| %>
                        <li><a href="?pg=<%= value.to_s+pquery %>" ><%= value %></a> </li>
                        <% end %>

                        <li class="active"><a href="#"><%= @pagination[:current_page] %></a></li>
                        
                        <% @pagination[:next_pages].each do |value| %>
                        <li><a href="?pg=<%= value.to_s+pquery %>" ><%= value %></a> </li>
                        <% end %>
                        <% if @pagination[:last_page] != @pagination[:current_page] && !@pagination[:next_pages].include?(@pagination[:last_page]) %>                        
                                <%  if !@pagination[:next_pages].include?(@pagination[:last_page]-1)%>
                                 <li class="disabled"><a href="#">...</a></li>
                                 <% end %>                      
                        <li ><a href="?pg=<%= @pagination[:last_page].to_s+pquery %>" ><%= @pagination[:last_page] %></a></li>
                        <% end %>
                        <li ><a href="?pg=<%= @pagination[:next_page].to_s+pquery %>" >Next</a></li>                         
                </ul>